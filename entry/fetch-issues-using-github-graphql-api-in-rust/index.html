<!doctype html><html lang=ja><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=https://blog.ymgyt.io/favicon.ico rel=icon sizes=any><link href=https://blog.ymgyt.io/icon.svg rel=icon type=image/svg+xml><link href=https://blog.ymgyt.io/apple-touch-icon.png rel=apple-touch-icon><link href=https://blog.ymgyt.io/manifest.webmanifest rel=manifest><link href=https://blog.ymgyt.io/style.css rel=stylesheet><link href=https://blog.ymgyt.io/atom.xml rel=alternate title=Atom type=application/atom+xml><script src="https://www.googletagmanager.com/gtag/js?id=G-GTB0KMLN90" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];gtag(`js`,new Date());gtag(`config`,`G-GTB0KMLN90`)</script><title>ğŸ¦€  Rustã§GitHub GraphQL APIã‚’ä½¿ã£ã¦issueä¸€è¦§ã‚’å–å¾—ã™ã‚‹ | Happy developing</title><meta content=graphql-clientã‚’ä½¿ã£ã¦rustã‹ã‚‰graphqlã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ name=description><meta content=summary name=twitter:card><meta content="@YAmaguchixt " name=twitter:site><meta content="ğŸ¦€  Rustã§GitHub GraphQL APIã‚’ä½¿ã£ã¦issueä¸€è¦§ã‚’å–å¾—ã™ã‚‹" name=twitter:title><meta content=graphql-clientã‚’ä½¿ã£ã¦rustã‹ã‚‰graphqlã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ name=twitter:description><meta content=https://blog.ymgyt.io/images/emoji/crab.png name=twitter:image><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><body><div class=world><div class=content-container><header class=blog-header-container><div class=blog-logo><a href=https://blog.ymgyt.io>Happy developing</a></div><div class=blog-nav><nav><ul><li><a href=https://blog.ymgyt.io/entry/>Entries</a><li><a href=https://blog.ymgyt.io/tags/>Tags</a><li><a href=https://blog.ymgyt.io/about/>About</a><li><a href=https://github.com/ymgyt> <img alt=Github class=icon src=https://blog.ymgyt.io/images/icon/github.svg> </a><li><a href="https://twitter.com/YAmaguchixt "> <img alt=Twitter class=icon src=https://blog.ymgyt.io/images/icon/twitter.svg> </a></ul></nav></div></header><main class=blog-main><article><header class=entry-header><h1 class=entry-title>ğŸ¦€ Rustã§GitHub GraphQL APIã‚’ä½¿ã£ã¦issueä¸€è¦§ã‚’å–å¾—ã™ã‚‹</h1><div class=entry-meta><p class=entry-meta-item>ğŸ—“ 2023-03-20<p class=entry-meta-item>ğŸ· <span class=tag><a href=https://blog.ymgyt.io/tags/rust/>rust</a></span></div></header><aside class=entry-toc><nav><ul class=entry-toc-toplevel-list><li><a href=https://blog.ymgyt.io/entry/fetch-issues-using-github-graphql-api-in-rust/#zhun-bei>æº–å‚™</a><li><a href=https://blog.ymgyt.io/entry/fetch-issues-using-github-graphql-api-in-rust/#graphql-clientnoli-yong-fang-fa>graphql-clientã®åˆ©ç”¨æ–¹æ³•</a> <ul><li><a href=https://blog.ymgyt.io/entry/fetch-issues-using-github-graphql-api-in-rust/#schemanoqu-de>Schemaã®å–å¾—</a><li><a href=https://blog.ymgyt.io/entry/fetch-issues-using-github-graphql-api-in-rust/#querynozuo-cheng>Queryã®ä½œæˆ</a><li><a href=https://blog.ymgyt.io/entry/fetch-issues-using-github-graphql-api-in-rust/#rustnoxing-sheng-cheng>Rustã®å‹ç”Ÿæˆ</a><li><a href=https://blog.ymgyt.io/entry/fetch-issues-using-github-graphql-api-in-rust/#requestnoshi-xing>Requestã®å®Ÿè¡Œ</a><li><a href=https://blog.ymgyt.io/entry/fetch-issues-using-github-graphql-api-in-rust/#issueyi-lan-noqu-de>Issueä¸€è¦§ã®å–å¾—</a></ul><li><a href=https://blog.ymgyt.io/entry/fetch-issues-using-github-graphql-api-in-rust/#matome>ã¾ã¨ã‚</a></ul></nav></aside><div class=entry-content><p>ã“ã®è¨˜äº‹ã§ã¯<a href=https://github.com/graphql-rust/graphql-client>graphql-client</a>ã‚’ä½¿ã£ã¦Rustã‹ã‚‰<a href=https://docs.github.com/en/graphql>GitHub GraphQL API</a>ã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚<br> å®Ÿéš›ã«ä½œæˆã—ãŸcliã¯<a href=https://github.com/ymgyt/gh-report-gen>ã“ã¡ã‚‰ã€‚</a><h2 id=zhun-bei><a aria-label="Anchor link for: zhun-bei" class=zola-anchor href=#zhun-bei>æº–å‚™</a></h2><p>GraphQL APIã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«Github Personal access tokens (PAT)ãŒå¿…è¦ã§ã™ã€‚<br> æœ¬è¨˜äº‹ã§ã¯Userã®issueä¸€è¦§ã‚’å–å¾—ã™ã‚‹ã®ã§Scopeã¯repoãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚<br> 2023/03/20ç¾åœ¨ã€fine-grained personal access tokenã¯GraphQL APIã§ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<blockquote><p>The GraphQL API does not support authentication with fine-grained personal access tokens.</blockquote><p>ä»¥ä¸‹ã§ã¯ã€ä½œæˆã—ãŸPATãŒç’°å¢ƒå¤‰æ•°ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’å‰æã«ã—ã¦ã„ã¾ã™ã€‚<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-storage z-modifier z-shell">export</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">GH_PAT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-meta z-group z-expansion z-command z-parens z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-parens z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cat</span></span><span class="z-meta z-function-call z-arguments z-shell"> ./github_pat</span><span class="z-punctuation z-section z-parens z-end z-shell">)</span></span></span></span>
</span></code></pre><h2 id=graphql-clientnoli-yong-fang-fa><a aria-label="Anchor link for: graphql-clientnoli-yong-fang-fa" class=zola-anchor href=#graphql-clientnoli-yong-fang-fa>graphql-clientã®åˆ©ç”¨æ–¹æ³•</a></h2><h3 id=schemanoqu-de><a aria-label="Anchor link for: schemanoqu-de" class=zola-anchor href=#schemanoqu-de>Schemaã®å–å¾—</a></h3><p>ã¾ãšGraphQL APIã®schemaã‚’å–å¾—ã—ã¾ã™ã€‚<br> graphql-clientã¯cliã‚‚æä¾›ã—ã¦ãã‚Œã¦ãŠã‚Šã€<code>cargo install graphq_client</code>ã§installã§ãã¾ã™ã€‚<br> schemaã®å–å¾—æ–¹æ³•ã¯ãªã‚“ã§ã‚‚ã‚ˆã„ã®ã§ã™ãŒã€ä¸Šè¨˜ã®cliã‚’ä½¿ã†å ´åˆã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">graphql-client</span></span><span class="z-meta z-function-call z-arguments z-shell"> introspect-schema https://api.github.com/graphql <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell">    --</span>header</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>Authorization: bearer <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">GH_PAT</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-punctuation z-definition z-string z-end z-shell">"</span></span> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell">    --</span>header</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>user-agent: rust-graphql-client<span class="z-punctuation z-definition z-string z-end z-shell">"</span></span> <span class="z-keyword z-operator z-assignment z-redirection z-shell">></span> ./schema.json</span>
</span></code></pre><h3 id=querynozuo-cheng><a aria-label="Anchor link for: querynozuo-cheng" class=zola-anchor href=#querynozuo-cheng>Queryã®ä½œæˆ</a></h3><p>æ¬¡ã«Rustã‹ã‚‰å®Ÿè¡Œã—ãŸã„queryã‚’æ›¸ãã¾ã™ã€‚<br> ã¾ãšsimpleã«PATã‚’ä½œæˆã—ãŸuserã‚’å–å¾—ã™ã‚‹queryã‚’æ›¸ã„ã¦ã¿ã¾ã™ã€‚<pre class="language-graphql z-code" data-lang=graphql><code class=language-graphql data-lang=graphql><span class="z-source z-graphql"><span class="z-keyword z-declaration z-query z-graphql">query</span> <span class="z-entity z-name z-query z-graphql">Authenticate</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql">  <span class="z-entity z-name z-field z-graphql">viewer</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">    <span class="z-entity z-name z-field z-graphql">login</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">  <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span>
</span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-end z-graphql">}</span></span>
</span></code></pre><p><code>viewer</code> queryã®<a href=https://docs.github.com/en/graphql/reference/queries#viewer>doc</a>ã‚’å‚ç…§ã™ã‚‹ã¨The username used to loginã¨ã—ã¦<code>login</code>ãŒå–å¾—ã§ãã‚‹ã¨ã‚ã‹ã‚‹ã®ã§ãã‚Œã‚’å–å¾—ã—ã¾ã™ã€‚<h3 id=rustnoxing-sheng-cheng><a aria-label="Anchor link for: rustnoxing-sheng-cheng" class=zola-anchor href=#rustnoxing-sheng-cheng>Rustã®å‹ç”Ÿæˆ</a></h3><p>Schemaã¨queryãŒæƒã£ãŸã®ã§ã€graphql-clientã‚’åˆ©ç”¨ã—ã¦ã€request/responseå‹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">graphql_client<span class="z-punctuation z-accessor z-rust">::</span></span>GraphQLQuery<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">GraphQLQuery</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">graphql</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    schema_path <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>src/github/gql/schema.json<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    query_path <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>src/github/gql/query.graphql<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    variables_derives <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Debug<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    response_derives <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Debug<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Authenticate</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><code>src/github/gql/query.rs</code>ã«ä¸Šè¨˜ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã™ã€‚<br> <code>schema_path</code>ã¨<code>query_path</code>ã«ã¯ã•ãã»ã©æº–å‚™ã—ãŸã€schema fileã¨query fileã®pathã‚’è¨˜è¼‰ã—ã¾ã™ã€‚project root(Cargo.toml)ã‹ã‚‰ã®ç›¸å¯¾pathã§ã™ã€‚ <code>Authenticate</code> structãŒ<code>query Authenticate</code>ã¨ä¸€è‡´ã•ã›ã¾ã™ã€‚ã“ã‚Œã¯graphql-clientå´ã®ç´„æŸäº‹ã§ã™ã€‚<br> <code>#[derive(GraphQLQuery)]</code>ã‚’å®šç¾©ã™ã‚‹ã¨<code>Authenticate</code>ã«methodãŒç”Ÿæˆã•ã‚Œã€<code>authenticate</code> moduleãŒä½œæˆã•ã‚Œã€queryã«å¯¾å¿œã™ã‚‹å‹ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚<br> <code>{variables,response}_derives</code>ã¯ç”Ÿæˆã•ã‚Œã‚‹å‹ã«å®šç¾©ã—ãŸã„deriveã®æŒ‡å®šã§ã™ã€‚ä»Šå›ã¯<code>Debug</code>ã‚’ç”Ÿã‚„ã—ã¦ã„ã¾ã™ã€‚<h3 id=requestnoshi-xing><a aria-label="Anchor link for: requestnoshi-xing" class=zola-anchor href=#requestnoshi-xing>Requestã®å®Ÿè¡Œ</a></h3><p>ã“ã‚Œã§æº–å‚™ãŒæƒã£ãŸã®ã§å®Ÿéš›ã«requestã‚’å®Ÿè¡Œã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚<br> ã¾ãšã¯ã€<code>GithubClient</code>ã‚’å®šç¾©ã—ã¾ã™ã€‚<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">reqwest<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">header<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span><span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-separator z-rust">,</span> HeaderMap<span class="z-punctuation z-separator z-rust">,</span> HeaderValue</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-keyword z-other z-rust">crate</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">github<span class="z-punctuation z-accessor z-rust">::</span></span>Pat<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">GithubClient</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">inner</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-path z-rust">reqwest<span class="z-punctuation z-accessor z-rust">::</span></span>Client,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-entity z-name z-impl z-rust">GithubClient</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">const</span> <span class="z-constant z-other z-rust">ENDPOINT</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-type z-rust">str</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>https://api.github.com/graphql<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Construct GithubClient.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">new</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">pat</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Pat<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-path z-rust">anyhow<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">Self</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> user_agent <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-macro z-rust">concat!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-macro z-rust">env!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>CARGO_PKG_NAME<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-support z-macro z-rust">env!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>CARGO_PKG_VERSION<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> headers <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">HeaderMap<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> <span class="z-storage z-type z-rust">let</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>pat</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> pat <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> token <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">HeaderValue<span class="z-punctuation z-accessor z-rust">::</span></span>try_from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-macro z-rust">format!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>bearer <span class="z-constant z-other z-placeholder z-rust">{}</span><span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> pat<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into_inner</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            token<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_sensitive</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-language z-rust">true</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            headers<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">header<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">AUTHORIZATION</span><span class="z-punctuation z-separator z-rust">,</span> token</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> inner <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">reqwest<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">ClientBuilder<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">user_agent</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>user_agent</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">default_headers</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>headers</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">timeout</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Duration<span class="z-punctuation z-accessor z-rust">::</span></span>from_secs<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">10</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">connect_timeout</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Duration<span class="z-punctuation z-accessor z-rust">::</span></span>from_secs<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">10</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">build</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-type z-rust">Self</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> inner </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>http clientã«ã¯<code>reqwest</code>ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚<br> PATã¯<code>authorization</code> headerã«è¨­å®šã—ã¾ã™ã€‚<br> Apiã®endpointã¯<code>https://api.github.com/graphql</code>ã§ã™ã€‚<p>Authenticate queryã‚’å®Ÿè¡Œã™ã‚‹å‡¦ç†ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã—ãŸã€‚<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-keyword z-other z-rust">crate</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">github<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">gql<span class="z-punctuation z-accessor z-rust">::</span></span>query<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-entity z-name z-impl z-rust">GithubClient</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">  <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Authenticated by current pat token, return github user name.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> async <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">authenticate</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-variable z-parameter z-rust">self</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-path z-rust">anyhow<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> variables <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">authenticate<span class="z-punctuation z-accessor z-rust">::</span></span>Variables <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> req <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">Authenticate<span class="z-punctuation z-accessor z-rust">::</span></span>build_query<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>variables</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> res<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">authenticate<span class="z-punctuation z-accessor z-rust">::</span></span>ResponseData <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">request</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>req</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>await<span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>res<span class="z-punctuation z-accessor z-dot z-rust">.</span>viewer<span class="z-punctuation z-accessor z-dot z-rust">.</span>login</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>ä»Šå›åˆ©ç”¨ã™ã‚‹Authenticate queryã«ã¯å¼•æ•°ãŒãªã„ã®ã§ã€ç©ºã®<code>query::authenticate::Variables</code>ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚<br> ã“ã‚Œã¯ç”Ÿæˆã•ã‚ŒãŸå‹ãªã®ã§ã€queryã‚’æ›´æ–°ã™ã‚‹ã¨fieldãŒè‡ªå‹•ã§è¿½åŠ ã•ã‚Œã¾ã™ã€‚<br> æ¬¡ã«ã€<code>query::Authenciate</code>ã«ç”Ÿæˆã•ã‚ŒãŸ<code>build_query()</code>ã‚’åˆ©ç”¨ã—ã¦requestã‚’ç”Ÿæˆã—ã¾ã™ã€‚<br> å¾Œã¯ã“ã®requestã‚’jsonã§encodeã™ã‚‹ã ã‘ã§ã™ã€‚<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">graphql_client<span class="z-punctuation z-accessor z-rust">::</span></span>Response<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-entity z-name z-impl z-rust">GithubClient</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">  <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">tracing</span>::<span class="z-variable z-annotation z-rust">instrument</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">        level <span class="z-keyword z-operator z-rust">=</span> tracing::Level::TRACE<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-function-call z-rust"><span class="z-variable z-function z-rust">skip</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-function-call z-rust">self</span><span class="z-meta z-function-call z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">        ret<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    </span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    async <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">request</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Body, ResponseData<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-variable z-parameter z-rust">self</span>, <span class="z-variable z-parameter z-rust">body</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>Body</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-path z-rust">anyhow<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ResponseData<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-return-type z-rust">    </span></span><span class="z-meta z-function z-rust"><span class="z-keyword z-other z-rust">where</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust">        Body<span class="z-punctuation z-separator z-rust">:</span> Serialize + ?Sized + Debug,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust">        ResponseData<span class="z-punctuation z-separator z-rust">:</span> DeserializeOwned + Debug,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust">    </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> res<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Response<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ResponseData<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-variable z-language z-rust">self</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span>inner
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">post</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-type z-rust">Self</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ENDPOINT</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">json</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>body</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">send</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span>await<span class="z-keyword z-operator z-rust">?</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">error_for_status</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">json</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span>await<span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">match</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>res<span class="z-punctuation z-accessor z-dot z-rust">.</span>data<span class="z-punctuation z-separator z-rust">,</span> res<span class="z-punctuation z-accessor z-dot z-rust">.</span>errors</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">_</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>errs</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">if</span> <span class="z-keyword z-operator z-logical z-rust">!</span>errs<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">is_empty</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">=></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-keyword z-control z-rust">for</span> err <span class="z-keyword z-operator z-rust">in</span> errs <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                    <span class="z-support z-macro z-rust">error!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>{err:?}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-support z-type z-rust">Err</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">anyhow<span class="z-punctuation z-accessor z-rust">::</span></span>anyhow<span class="z-keyword z-operator z-logical z-rust">!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>failed to request github api<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>data</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-rust">_</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">=></span> <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>data</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-operator z-rust">_</span> <span class="z-keyword z-operator z-rust">=></span> <span class="z-support z-type z-rust">Err</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">anyhow<span class="z-punctuation z-accessor z-rust">::</span></span>anyhow<span class="z-keyword z-operator z-logical z-rust">!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>unexpected response<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>requestã®å…±é€šå‡¦ç†ã§ã™ã€‚<br> <code>graphql_client::Response</code>ã¯graphqlã®responseã‚’è¡¨ã—ã¦ãŠã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-generic z-rust"><span class="z-entity z-name z-struct z-rust">Response</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Data<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span></span><span class="z-meta z-struct z-rust"> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">data</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Data<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">errors</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Error<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">extensions</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">HashMap<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span>, Value<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p><code>ResponseData</code>ã¯queryã”ã¨ã®responseã§ã€queryã«å¿œã˜ã¦ç”Ÿæˆã•ã‚Œã¾ã™ã€‚<br> ä»Šå›ã®queryã¯<pre class="language-graphql z-code" data-lang=graphql><code class=language-graphql data-lang=graphql><span class="z-source z-graphql"><span class="z-keyword z-declaration z-query z-graphql">query</span> <span class="z-entity z-name z-query z-graphql">Authenticate</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql">  <span class="z-entity z-name z-field z-graphql">viewer</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">    <span class="z-entity z-name z-field z-graphql">login</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">  <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span>
</span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-end z-graphql">}</span></span>
</span></code></pre><p>ã®ã‚ˆã†ã«å®šç¾©ã—ãŸã®ã§ã€<code>res.viewer.login</code>ã®ã‚ˆã†ã«accessã§ãã¾ã™ã€‚ç›´æ„Ÿçš„ã§ã™ã­ã€‚<h3 id=issueyi-lan-noqu-de><a aria-label="Anchor link for: issueyi-lan-noqu-de" class=zola-anchor href=#issueyi-lan-noqu-de>Issueä¸€è¦§ã®å–å¾—</a></h3><p>requestã®å‡¦ç†ã®æµã‚ŒãŒã‚ã‹ã£ãŸã®ã§ã€issueä¸€è¦§ã‚’å–å¾—ã—ã¦ã¿ã¾ã™ã€‚ queryã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã—ãŸã€‚<pre class="language-graphql z-code" data-lang=graphql><code class=language-graphql data-lang=graphql><span class="z-source z-graphql"><span class="z-keyword z-declaration z-query z-graphql">query</span> <span class="z-entity z-name z-query z-graphql">Issues</span><span class="z-punctuation z-section z-group z-begin z-graphql">(</span>
</span><span class="z-source z-graphql">  <span class="z-punctuation z-definition z-variable z-graphql">$</span><span class="z-variable z-parameter z-graphql">user</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-variable z-type z-graphql"><span class="z-support z-type z-graphql">String</span></span><span class="z-storage z-modifier z-required z-graphql">!</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span> 
</span><span class="z-source z-graphql">  <span class="z-punctuation z-definition z-variable z-graphql">$</span><span class="z-variable z-parameter z-graphql">since</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-variable z-type z-graphql">DateTime</span><span class="z-storage z-modifier z-required z-graphql">!</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span><span class="z-source z-graphql">  <span class="z-punctuation z-definition z-variable z-graphql">$</span><span class="z-variable z-parameter z-graphql">after</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-variable z-type z-graphql"><span class="z-support z-type z-graphql">String</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span><span class="z-source z-graphql">  <span class="z-punctuation z-definition z-variable z-graphql">$</span><span class="z-variable z-parameter z-graphql">first</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-variable z-type z-graphql"><span class="z-support z-type z-graphql">Int</span></span> <span class="z-punctuation z-separator z-key-value z-graphql">=</span> <span class="z-constant z-numeric z-integer z-graphql">20</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span><span class="z-source z-graphql"><span class="z-punctuation z-section z-group z-end z-graphql">)</span><span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql">  <span class="z-entity z-name z-field z-graphql">viewer</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">    <span class="z-entity z-name z-field z-graphql">login</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">    <span class="z-entity z-name z-field z-graphql">issues</span><span class="z-punctuation z-section z-group z-begin z-graphql">(</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-variable z-parameter z-graphql">filterBy</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-meta z-mapping z-graphql"><span class="z-punctuation z-section z-mapping z-begin z-graphql">{</span> <span class="z-meta z-mapping z-key z-graphql">assignee</span><span class="z-punctuation z-separator z-key-value z-graphql">:</span> <span class="z-punctuation z-definition z-variable z-graphql">$</span><span class="z-variable z-other z-graphql">user</span> <span class="z-meta z-mapping z-key z-graphql">since</span><span class="z-punctuation z-separator z-key-value z-graphql">:</span> <span class="z-punctuation z-definition z-variable z-graphql">$</span><span class="z-variable z-other z-graphql">since</span> <span class="z-punctuation z-section z-mapping z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span> 
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-variable z-parameter z-graphql">orderBy</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-meta z-mapping z-graphql"><span class="z-punctuation z-section z-mapping z-begin z-graphql">{</span> <span class="z-meta z-mapping z-key z-graphql">direction</span><span class="z-punctuation z-separator z-key-value z-graphql">:</span> <span class="z-constant z-other z-graphql">ASC</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span> <span class="z-meta z-mapping z-key z-graphql">field</span><span class="z-punctuation z-separator z-key-value z-graphql">:</span> <span class="z-constant z-other z-graphql">CREATED_AT</span> <span class="z-punctuation z-section z-mapping z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-variable z-parameter z-graphql">first</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-punctuation z-definition z-variable z-graphql">$</span><span class="z-variable z-other z-graphql">first</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span> 
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-variable z-parameter z-graphql">after</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-punctuation z-definition z-variable z-graphql">$</span><span class="z-variable z-other z-graphql">after</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">    <span class="z-punctuation z-section z-group z-end z-graphql">)</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-entity z-name z-field z-graphql">totalCount</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-entity z-name z-field z-graphql">pageInfo</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">endCursor</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">hasNextPage</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-entity z-name z-field z-graphql">nodes</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">assignees</span><span class="z-punctuation z-section z-group z-begin z-graphql">(</span><span class="z-variable z-parameter z-graphql">first</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-constant z-numeric z-integer z-graphql">10</span><span class="z-punctuation z-section z-group z-end z-graphql">)</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">          <span class="z-entity z-name z-field z-graphql">nodes</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">            <span class="z-entity z-name z-field z-graphql">login</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">          <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">closed</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">closedAt</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">createdAt</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">updatedAt</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">number</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">repository</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">          <span class="z-entity z-name z-field z-graphql">name</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">          <span class="z-entity z-name z-field z-graphql">owner</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">            <span class="z-entity z-name z-field z-graphql">__typename</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">            <span class="z-entity z-name z-field z-graphql">login</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">          <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">state</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">title</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">url</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">labels</span><span class="z-punctuation z-section z-group z-begin z-graphql">(</span><span class="z-variable z-parameter z-graphql">orderBy</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-meta z-mapping z-graphql"><span class="z-punctuation z-section z-mapping z-begin z-graphql">{</span> <span class="z-meta z-mapping z-key z-graphql">direction</span><span class="z-punctuation z-separator z-key-value z-graphql">:</span><span class="z-constant z-other z-graphql">ASC</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span> <span class="z-meta z-mapping z-key z-graphql">field</span><span class="z-punctuation z-separator z-key-value z-graphql">:</span> <span class="z-constant z-other z-graphql">NAME</span> <span class="z-punctuation z-section z-mapping z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span> <span class="z-variable z-parameter z-graphql">first</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-constant z-numeric z-integer z-graphql">10</span><span class="z-punctuation z-section z-group z-end z-graphql">)</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">          <span class="z-entity z-name z-field z-graphql">nodes</span> <span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-begin z-graphql">{</span>
</span></span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">            <span class="z-entity z-name z-field z-graphql">name</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">          <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">trackedIssuesCount</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">        <span class="z-entity z-name z-field z-graphql">trackedClosedIssuesCount</span><span class="z-punctuation z-separator z-key-value z-graphql">:</span> <span class="z-variable z-parameter z-graphql">trackedIssuesCount</span><span class="z-punctuation z-section z-group z-begin z-graphql">(</span><span class="z-variable z-parameter z-graphql">states</span><span class="z-punctuation z-separator z-type z-graphql">:</span> <span class="z-meta z-sequence z-graphql"><span class="z-punctuation z-section z-sequence z-begin z-graphql">[</span><span class="z-constant z-other z-graphql">CLOSED</span><span class="z-punctuation z-section z-sequence z-end z-graphql">]</span></span><span class="z-punctuation z-section z-group z-end z-graphql">)</span><span class="z-punctuation z-separator z-sequence z-graphql">,</span>
</span></span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">      <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span>
</span></span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">    <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span>
</span></span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-meta z-block z-graphql">  <span class="z-punctuation z-section z-block z-end z-graphql">}</span></span>
</span></span><span class="z-source z-graphql"><span class="z-meta z-block z-graphql"><span class="z-punctuation z-section z-block z-end z-graphql">}</span></span>
</span></code></pre><p><code>viewer.issues</code>ã®argument<code>filterBy</code>ã«<code>assignee</code>ã§å…ˆç¨‹å–å¾—ã—ãŸ<code>viewer.login</code>ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã¾ãŸã€<code>since</code>ã‚’æŒ‡å®šã™ã‚‹ã¨æŒ‡å®šã•ã‚ŒãŸæ™‚ç‚¹ä»¥é™ã«ä½œæˆ/æ›´æ–°ã•ã‚ŒãŸissueã®ã¿ãŒå¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚<br> <code>Issues</code> queryã®å¼•æ•°<code>$since</code>ã§æŒ‡å®šã—ãŸ<code>DateTime!</code>ã¯GitHub schemaã§å®šç¾©ã•ã‚ŒãŸå‹ã§ã™ã€‚<br> ã“ã®queryã‚’Rustã‹ã‚‰ä½¿ã†ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã™ã€‚<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">graphql_client<span class="z-punctuation z-accessor z-rust">::</span></span>GraphQLQuery<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-keyword z-other z-rust">crate</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">github<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">gql<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">scaler<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">GraphQLQuery</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">graphql</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    schema_path <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>src/github/gql/schema.json<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    query_path <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>src/github/gql/query.graphql<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    variables_derives <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Debug<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">    response_derives <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Debug<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Issues</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><code>use crate::github::gql::scaler::*;</code>ã«ç€ç›®ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã¯graphql-clientãŒscalerå‹ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã§ã€<code>#[derive(GraphQLQuery)]</code>ã‚’æ›¸ã„ãŸscopeã§ã€<code>DateTime</code>å‹ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚<p><code>src/github/gql/mod.rs</code>ã«ä»¥ä¸‹ã®ã‚ˆã†ã«scaler moduleã‚’å®šç¾©ã—ã¾ã—ãŸã€‚(åˆ¥fileã«ã—ã¦ã‚‚ã„ã„ã§ã™)<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-modifier z-rust">pub</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-other z-rust">super</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-module z-rust"><span class="z-storage z-type z-module z-rust">mod</span> <span class="z-entity z-name z-module z-rust">scaler</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">serde<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>Deserialize<span class="z-punctuation z-separator z-rust">,</span> Serialize</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">allow</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">clippy::upper_case_acronyms</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-type z-rust">type</span> <span class="z-entity z-name z-type z-rust">URI</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-type z-rust">String</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Serialize<span class="z-punctuation z-separator z-rust">,</span> Deserialize<span class="z-punctuation z-separator z-rust">,</span> Debug</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">DateTime</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>String</span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">From</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-meta z-path z-rust">chrono<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust">DateTime<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-path z-rust">chrono<span class="z-punctuation z-accessor z-rust">::</span></span>Utc<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">DateTime</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">from</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">value</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-meta z-path z-rust">chrono<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust">DateTime<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-path z-rust">chrono<span class="z-punctuation z-accessor z-rust">::</span></span>Utc<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">Self</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            DateTime<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_rfc3339</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-generic z-rust">TryFrom<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>DateTime<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">chrono</span>::<span class="z-entity z-name z-impl z-rust">DateTime</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-path z-rust">chrono<span class="z-punctuation z-accessor z-rust">::</span></span>Utc<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-type z-rust">type</span> <span class="z-entity z-name z-type z-rust">Error</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">chrono<span class="z-punctuation z-accessor z-rust">::</span></span>ParseError<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">try_from</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">value</span><span class="z-punctuation z-separator z-rust">:</span> DateTime</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">Self</span>, <span class="z-meta z-path z-rust"><span class="z-storage z-type z-rust"><span class="z-storage z-type z-rust">Self</span><span class="z-punctuation z-accessor z-rust">::</span></span></span>Error<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-path z-rust">chrono<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">DateTime<span class="z-punctuation z-accessor z-rust">::</span></span>parse_from_rfc3339<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-support z-function z-rust">as_str</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">map</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-type z-rust">Into</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-module z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p><code>URI</code>å‹ã¯ã€responseã«<code>URI</code> scaler typeãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ãŸã‚å¿…è¦ã«ãªã‚Šã¾ã™ã€‚<br> ã“ã®ã‚ˆã†ã«schemaå´ã§å®šç¾©ã•ã‚ŒãŸcustom scalerã«å¯¾å¿œã™ã‚‹å‹ã‚’Rustã§å®šç¾©ãªã„ã—useã—ã¦ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚<br> GitHubã®å ´åˆã€<code>DateTime</code>å‹ã¯RFC3339 formatã§ã‚ã‚‹ã¨ã®ã“ã¨ã ã£ãŸã®ã§ã€<code>chrono</code>ã‚’åˆ©ç”¨ã—ã¦parseã—ã¦ã„ã¾ã™ã€‚<br> <code>URI</code>ã‚‚<code>String</code>ã§ãªãã€<code>http::Url</code>å‹ç­‰ã‚’åˆ©ç”¨ã—ã¦ã‚‚ã‚ˆã„ã¨æ€ã„ã¾ã™ã€‚<p>ã“ã®<code>Issues</code> queryã‚’Rustã‹ã‚‰åˆ©ç”¨ã™ã‚‹å‡¦ç†ãŒä»¥ä¸‹ã§ã™ã€‚<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">chrono<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>DateTime<span class="z-punctuation z-separator z-rust">,</span> Utc</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-keyword z-other z-rust">crate</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">github<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">gql<span class="z-punctuation z-accessor z-rust">::</span></span>query<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-entity z-name z-impl z-rust">GithubClient</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> async <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">query_issues</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-keyword z-operator z-rust">&</span><span class="z-variable z-parameter z-rust">self</span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">gh_user</span><span class="z-punctuation z-separator z-rust">:</span> impl <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Into</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">since</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-meta z-generic z-rust">DateTime<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Utc<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">cursor</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    </span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-path z-rust">anyhow<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">issues<span class="z-punctuation z-accessor z-rust">::</span></span>ResponseData<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> variables <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">issues<span class="z-punctuation z-accessor z-rust">::</span></span>Variables <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            user<span class="z-punctuation z-separator z-rust">:</span> gh_user<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            since<span class="z-punctuation z-separator z-rust">:</span> since<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            after<span class="z-punctuation z-separator z-rust">:</span> cursor<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            first<span class="z-punctuation z-separator z-rust">:</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">100</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> req <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">Issues<span class="z-punctuation z-accessor z-rust">::</span></span>build_query<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>variables</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> res<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">issues<span class="z-punctuation z-accessor z-rust">::</span></span>ResponseData <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">request</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>req</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>await<span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>res</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>ä»Šå›ã®queryã§ã¯inputãŒã‚ã‚‹ã®ã§ã€å¯¾å¿œã™ã‚‹fieldãŒ<code>query::issues::Variables</code>ã«ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚<br> queryå´ã®optionalã¯<code>Option</code>ã§è¡¨ç¾ã•ã‚Œã¦ã„ã¾ã™ã€‚<br> ä»Šå›ã®toolã§ã¯å…¨ä»¶å–å¾—ã—ãŸã„ã®ã§ã€ä»¥ä¸‹ã®å‡¦ç†ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-entity z-name z-impl z-rust">GithubClient</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> async <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">query_issues_all</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-keyword z-operator z-rust">&</span><span class="z-variable z-parameter z-rust">self</span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">gh_user</span><span class="z-punctuation z-separator z-rust">:</span> impl <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Into</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">since</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-meta z-generic z-rust">DateTime<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Utc<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    </span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-path z-rust">anyhow<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">issues<span class="z-punctuation z-accessor z-rust">::</span></span>IssuesViewerIssuesNodes<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> gh_user <span class="z-keyword z-operator z-assignment z-rust">=</span> gh_user<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> since <span class="z-keyword z-operator z-assignment z-rust">=</span> since<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> cursor <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-type z-rust">None</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> issues <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-type z-rust">Vec</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">loop</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-storage z-type z-rust">let</span> res <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">query_issues</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>gh_user<span class="z-punctuation z-separator z-rust">,</span> since<span class="z-punctuation z-separator z-rust">,</span> cursor</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>await<span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-control z-rust">if</span> <span class="z-storage z-type z-rust">let</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>new_issues</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> res<span class="z-punctuation z-accessor z-dot z-rust">.</span>viewer<span class="z-punctuation z-accessor z-dot z-rust">.</span>issues<span class="z-punctuation z-accessor z-dot z-rust">.</span>nodes <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                issues<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">extend</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>new_issues<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into_iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">flatten</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-control z-rust">if</span> <span class="z-keyword z-operator z-logical z-rust">!</span>res<span class="z-punctuation z-accessor z-dot z-rust">.</span>viewer<span class="z-punctuation z-accessor z-dot z-rust">.</span>issues<span class="z-punctuation z-accessor z-dot z-rust">.</span>page_info<span class="z-punctuation z-accessor z-dot z-rust">.</span>has_next_page <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-keyword z-control z-rust">break</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            cursor <span class="z-keyword z-operator z-assignment z-rust">=</span> res<span class="z-punctuation z-accessor z-dot z-rust">.</span>viewer<span class="z-punctuation z-accessor z-dot z-rust">.</span>issues<span class="z-punctuation z-accessor z-dot z-rust">.</span>page_info<span class="z-punctuation z-accessor z-dot z-rust">.</span>end_cursor<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>issues</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=matome><a aria-label="Anchor link for: matome" class=zola-anchor href=#matome>ã¾ã¨ã‚</a></h2><p>ç°¡å˜ã§ã¯ã‚ã‚Šã¾ã™ãŒã€Rustã‹ã‚‰graphql-clientã‚’åˆ©ç”¨ã—ã¦GraphQL APIã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚<br> queryã¯ç´ ã®GraphQLã‚’æ›¸ã„ã¦çµæœã«å¯¾å¿œã™ã‚‹å‹ã‚’Rustå´ã«ç”Ÿæˆã™ã‚‹ã¨ã„ã†å½¢ãŒä½¿ã„ã‚„ã™ã„ã¨æ€ã„ã¾ã—ãŸã€‚<br> ä»Šå›ã®codeã¯<code>gh-report-gen</code>ã¨ã„ã†toolã‚’ä½œæˆã™ã‚‹éš›ã«æ›¸ãã¾ã—ãŸã€‚<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> install gh-report-gen</span>
</span><span class="z-source z-shell z-bash">
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gh-report-gen</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>include</span> myorg/<span class="z-keyword z-operator z-regexp z-quantifier z-shell">*</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>exclude</span> myorg/foo<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>since</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>2023-03-01T00:00:00+09:00<span class="z-punctuation z-definition z-string z-end z-shell">"</span></span>  </span>
</span></code></pre><p>ã®ã‚ˆã†ã«åˆ©ç”¨ã§ãã‚‹ã®ã§ã€æœ€è¿‘ã‚„ã£ãŸissueã‚’ä¸€è¦§ã«ã—ã¦markdownã«ã—ãŸã„ã¿ãŸã„ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã‚ˆã‹ã£ãŸã‚‰ä½¿ã£ã¦ãã ã•ã„ã€‚</div></article></main><footer class=blog-footer><p>Â© 2024 <a href=https://blog.ymgyt.io> ymgyt </a> | Made with <a href=https://www.getzola.org rel=noopener target=_blank>Zola</a> | <a href=https://github.com/ymgyt/blog>Repository</a> | <a href=https://blog.ymgyt.io/atom.xml target=_blank title=rss> <svg viewbox="0 0 24 24" class=icon fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx=5 cy=19 r=1></circle></svg> </a></footer></div></div>